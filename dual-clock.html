<!DOCTYPE html>
<html lang="en">
<head>
    <title>Dual Time Zone Clock</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: Arial, sans-serif;
        }

        .time-container {
            display: flex;
            flex-direction: column; /* Default to vertical */
            height: 100%;
        }

        .time-zone {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 190px; /* Larger font size */
            border: 5px solid black; /* Thick border */
        }

        .time-zone h2 {
            margin: 0;
            font-size: 50px; /* Large font for location name */
            font-weight: normal;
        }

        .dark-background {
            background-color: #333;
        }

        .light-background {
            background-color: #DDD;
            color: black;
        }

        /* Media Query for wider screens */
        @media (min-width: 600px) {
            .time-container {
                // do nothing
            }
        }

        @media (aspect-ratio: 16/9)) {
            .time-container {
                flex-direction: row; /* Horizontal split for wider screens */
            }
        }


        .accessibility-controls {
            position: fixed;
            top: 10px;
            left: 10px;
            background: white;
            padding: 5px;
            border-radius: 5px;
            border: 1px solid #DDD;
            z-index: 1000;
        }

        .accessibility-controls button {
            margin-right: 5px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="accessibility-controls">
        <button onclick="decreaseFontSize()">A-</button>
        <button onclick="increaseFontSize()">A+</button>
    </div>
    <div class="time-container" aria-live="polite">
        <div id="newDelhi" class="time-zone" aria-label="Time in New Delhi">
            <h2>New Delhi</h2>
            <div class="time"></div>
        </div>
        <div id="newYork" class="time-zone" aria-label="Time in New York">
            <h2>New York</h2>
            <div class="time"></div>
        </div>
    </div>

    <script>
        function getQueryStringParams(param) {
            var queryString = window.location.search.substring(1);
            var params = queryString.split("&");
            for (var i = 0; i < params.length; i++) {
                var pair = params[i].split("=");
                if (pair[0] === param) {
                    return decodeURIComponent(pair[1]);
                }
            }
            return null;
        }

        function updateTimes() {
            var location1 = getQueryStringParams('location1') || 'Asia/Kolkata';
            var location2 = getQueryStringParams('location2') || 'America/New_York';

            var location1Time = new Date().toLocaleTimeString('en-US', { timeZone: location1, hour12: true, hour: '2-digit', minute: '2-digit' });
            var location2Time = new Date().toLocaleTimeString('en-US', { timeZone: location2, hour12: true, hour: '2-digit', minute: '2-digit' });

            document.querySelector('#newDelhi h2').textContent = location1.split("/").pop().replace("_", " ");
            document.querySelector('#newYork h2').textContent = location2.split("/").pop().replace("_", " ");

            document.querySelector('#newDelhi .time').textContent = location1Time.replace(/ AM| PM/, '');
            document.querySelector('#newYork .time').textContent = location2Time.replace(/ AM| PM/, '');

            document.getElementById('newDelhi').className = location1Time.includes('PM') ? 'time-zone dark-background' : 'time-zone light-background';
            document.getElementById('newYork').className = location2Time.includes('PM') ? 'time-zone dark-background' : 'time-zone light-background';
        }

        function increaseFontSize() {
            var elements = document.querySelectorAll('.time-zone');
            for (var i = 0; i < elements.length; i++) {
                var style = window.getComputedStyle(elements[i], null).getPropertyValue('font-size');
                var fontSize = parseFloat(style);
                elements[i].style.fontSize = (fontSize + 5) + 'px';
            }
        }

        function decreaseFontSize() {
            var elements = document.querySelectorAll('.time-zone');
            for (var i = 0; i < elements.length; i++) {
                var style = window.getComputedStyle(elements[i], null).getPropertyValue('font-size');
                var fontSize = parseFloat(style);
                elements[i].style.fontSize = (fontSize - 5) + 'px';
            }
        }

        // script for touch zooming start
            let scale = 1;
            const ZOOM_SPEED = 0.01;

            function setupZoom(elementId) {
                const el = document.getElementById(elementId);
                let startDistance = null;

                el.addEventListener('touchmove', function(e) {
                    if (e.touches.length == 2) {
                        e.preventDefault();

                        const distance = getDistanceBetweenTouches(e);
                        if (startDistance === null) {
                            startDistance = distance;
                        } else {
                            scale *= 1 + ZOOM_SPEED * (distance - startDistance);
                            el.style.transform = `scale(${scale})`;
                            startDistance = distance;
                        }
                    }
                }, { passive: false });

                el.addEventListener('touchend', function() {
                    startDistance = null;
                });
            }

            function getDistanceBetweenTouches(e) {
                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                return Math.sqrt(Math.pow(touch2.pageX - touch1.pageX, 2) + Math.pow(touch2.pageY - touch1.pageY, 2));
            }

            // Setup zoom for both time zones
            setupZoom('newDelhi');
            setupZoom('newYork');
        // script for touch zooming end


        setInterval(updateTimes, 1000);
        updateTimes();
    </script>
</body>
</html>